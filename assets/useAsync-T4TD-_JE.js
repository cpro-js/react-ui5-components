import{c as L}from"./util-5JWwSdnm.js";import{r as t}from"./index-9BFB80ap.js";import{u as O}from"./useLatestRef-8OPiqaso.js";import{D as S}from"./CommonSelection-w2tAztTJ.js";const q=m=>{const{minCharsForSearch:c,loadItems:p,initialItems:h,...l}=m,{onInputChange:s,getItemLabel:d,onValueChange:o}=l,[C,f]=t.useState(h??[]),r=t.useRef(void 0),u=t.useRef(!1),a=t.useRef(),I=O(d);t.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const i=L(e=>{if(!e||c!=null&&e.length<c){r.current=void 0,f([]);return}if(a.current!=null&&e===I.current(a.current))return;const R=r.current={};p(e).then(E=>{u&&R===r.current&&(r.current=void 0,f(E||[]))})},S),g=t.useCallback((e,n)=>{s!=null&&s(e,n),i(e)},[s,i]),b=t.useCallback((e,n)=>{a.current=n,o!=null&&o(e,n)},[o]);return{...l,onInputChange:g,onValueChange:b,items:C,filterItem:null}};export{q as u};
//# sourceMappingURL=useAsync-T4TD-_JE.js.map
