import{j as g}from"./useIsomorphicLayoutEffect-xRq3KBKR.js";import"./formSupport-Tri1jE22.js";import{r as o}from"./index-9BFB80ap.js";import{a as x}from"./useFormController-QYTj16FN.js";import{D as E}from"./DatePicker-KKAI-CxL.js";import{F}from"./useWaitForWebcomponent-XV0L5ua2.js";import{u as C}from"./FormI18n-cauWpAAl.js";import{h as D}from"./util-OqSjx520.js";import{V as v}from"./ValueState-Qqn7Ekme.js";const d=(e,l)=>{const r=e instanceof Date?e:l(e);return r!=null?new Date(r.getFullYear(),r.getMonth(),r.getDate()):null},I=e=>e!=null&&(e.type==="minDate"||e.type==="maxDate"),y=o.forwardRef(({name:e,required:l,minDate:r,maxDate:u,...V},M)=>{const{date:{parse:s}}=o.useContext(F),p=o.useMemo(()=>({required:l,validate:{...r==null?{}:{minDate:a=>{if(a==null)return!0;const t=d(a,s),i=d(r,s);return t==null||i==null||t>=i}},...u==null?{}:{maxDate:a=>{if(a==null)return!0;const t=d(a,s),i=d(u,s);return t==null||i==null||t<=i}}}}),[s,l,r,u]),_=C(e,p),{field:n,fieldState:m}=x({name:e,rules:p}),c=o.useRef();o.useImperativeHandle(M,()=>({focus(){c.current!=null&&c.current.focus()}})),o.useImperativeHandle(n.ref,()=>c.current);const h=n.value===void 0?null:n.value,f=D(m.error)&&!I(m.error)?_(m.error,n.value):void 0;return g(E,{...V,ref:c,name:n.name,value:h,minDate:r,maxDate:u,onChange:(a,t)=>n.onChange(t??void 0),valueState:D(m.error)?v.Error:v.None,valueStateMessage:f!=null&&g("div",{slot:"valueStateMessage",children:f}),onBlur:n.onBlur,required:l})});try{y.displayName="DatePickerField",y.__docgenInfo={description:"",displayName:"DatePickerField",props:{minDate:{defaultValue:null,description:"",name:"minDate",required:!1,type:{name:"string | Date"}},maxDate:{defaultValue:null,description:"",name:"maxDate",required:!1,type:{name:"string | Date"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}export{y as D};
//# sourceMappingURL=DatePickerField-xwAD0aAO.js.map
