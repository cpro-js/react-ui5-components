import{r as C}from"./index-9BFB80ap.js";import{u as N}from"./useLatestRef-8OPiqaso.js";const w=(e,a,r)=>!(!e||a.some(u=>String(r(u)).toLowerCase()===String(e).toLowerCase())),_=(e,a)=>({label:a,value:e,__isNew__:!0}),k=e=>`Create "${e}"`,R=e=>{const{formatCreateLabel:a=k,getNewItem:r=_,onValueCreate:u,...b}=e,{items:s,value:I,inputValue:l="",getItemLabel:m,getItemValue:i,onValueChange:c,onInputChange:h}=e,o=C.useMemo(()=>w(l,s,m)?r(l,I===l?l:a(l)):void 0,[I,a,r,m,l,w,s]),f=N(o),d=C.useMemo(()=>o!=null?[...s,o]:s,[s,o]),p=C.useCallback((t,n)=>{let g=t;if(f.current!=null&&m(f.current)===t){const V=n.currentTarget;g=i(f.current),V.value=g}h!=null&&h(g,n)},[m,i]),L=C.useCallback((t,n)=>{if(t!=null&&n!=null&&n===o){u!=null&&u(i(n),n),c!=null&&c(t,r(t,t));return}c!=null&&c(t,n)},[o,r,i,c,u]);return{...b,items:d,onValueChange:L,onInputChange:p}};export{R as u};
//# sourceMappingURL=useCreatable-oCBfdz5P.js.map
