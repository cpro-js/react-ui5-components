{"version":3,"file":"TextInput-FRdb0Jpx.js","sources":["../../src/component/TextInput.tsx"],"sourcesContent":["import \"../form/formSupport\";\n\nimport { Input } from \"@ui5/webcomponents-react\";\nimport { InputDomRef, InputPropTypes } from \"@ui5/webcomponents-react\";\nimport {\n  FC,\n  KeyboardEvent,\n  MutableRefObject,\n  forwardRef,\n  useCallback,\n  useImperativeHandle,\n  useRef,\n} from \"react\";\n\nimport { triggerSubmitOnEnter, useOnChangeWorkaround } from \"./util\";\n\nexport interface TextInputProps extends InputPropTypes {}\n\nexport const TextInput = forwardRef<InputDomRef, TextInputProps>(\n  ({ value, onKeyPress, ...props }, forwardedRef) => {\n    const handleKeyPress = useCallback(\n      (event: KeyboardEvent<HTMLElement>) => {\n        // Workaround: Webcomponents catches enter -> need to submit manually\n        // see https://github.com/SAP/ui5-webcomponents/pull/2855/files\n        triggerSubmitOnEnter(event);\n        if (onKeyPress != null) {\n          onKeyPress(event);\n        }\n      },\n      [onKeyPress]\n    );\n\n    // store input ref for internal usage\n    const inputRef = useRef<InputDomRef>() as MutableRefObject<InputDomRef>;\n    useImperativeHandle(forwardedRef, () => inputRef.current);\n    // apply workaround to fix onChange event\n    useOnChangeWorkaround(inputRef, value);\n\n    return (\n      <Input\n        {...props}\n        ref={inputRef}\n        onKeyPress={handleKeyPress}\n        value={value}\n      />\n    );\n  }\n);\n"],"names":["TextInput","forwardRef","value","onKeyPress","props","forwardedRef","handleKeyPress","useCallback","event","triggerSubmitOnEnter","inputRef","useRef","useImperativeHandle","useOnChangeWorkaround","jsx","Input"],"mappings":"uNAkBO,MAAAA,EAAAC,EAAA,WAAkB,CAAA,CAAA,MAAAC,EAAA,WAAAC,EAAA,GAAAC,CAAA,EAAAC,IAAA,CAErB,MAAAC,EAAAC,EAAA,YAAuBC,GAAA,CAInBC,EAAAD,CAAA,EACAL,GAAA,MACEA,EAAAK,CAAA,CACF,EACF,CAAAL,CAAA,CACW,EAIbO,EAAAC,EAAAA,SACAC,OAAAA,EAAAA,oBAAAP,EAAA,IAAAK,EAAA,OAAA,EAEAG,EAAAH,EAAAR,CAAA,EAEAY,EACEC,EAAC,CAAA,GAAAX,EACK,IAAAM,EACC,WAAAJ,EACO,MAAAJ,CACZ,CAAA,CACF,CAGN"}